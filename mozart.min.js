var _$_decorated=function(a){var b=a._$.bind(a);return b.api=a.api,b.routes=a.routes,b};"undefined"==typeof jQuery&&(window.$=function(a){return[].slice.call(document.querySelectorAll(a))}.bind(this)),String.prototype.interpolate=function(a){return this.replace(/#\{(.+?)\}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})},Object.deepExtend=function(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a},window.m$={};var Mozart=function(){this.scope=void 0,this.api={},this.routes={},this.events=new Function};Mozart.prototype._$=function(a){if(a instanceof Mozart)return $(this.scope);var b=a?" "+a:"";return $(this.scope+b)},Mozart.prototype.set_api=function(a){for(var b in a){var c=this;this.api[b]=function(a){return this.api_fn.call(c,_$_decorated(c),a)}.bind({api_fn:a[b]})}},Mozart.prototype.set_routes=function(a){for(var b in a){var c=JSON.parse(JSON.stringify(a[b]));this.routes[b]=function(a){return c.url=c.url.interpolate(a),c.data=c.data||{},c.data=Object.deepExtend(c.data,a.data),c}.bind(this)}},Mozart.prototype.set_events=function(a){this.events=a},Mozart.init=function(){var a=[];for(var b in window.m$){var c=m$[b],d=_$_decorated(c);if(!c instanceof Mozart)return;c.scope='[data-component~="'+b+'"]',a.push([c,d])}a.forEach(function(a){a[0].events.call(a[0],a[1])})},Mozart.clone=function(a){var b=new DOMParser,c=document.createElement("div");if(!a)return console.error("No <template> element provided");if("object"!=typeof a)return console.error("Element to clone expected to be a <template> element. Was a "+typeof a);c.append(document.importNode(a.content,!0));var d=b.parseFromString(c.innerHTML,"text/xml").documentElement;return"undefined"==typeof jQuery?d:$(d)};
