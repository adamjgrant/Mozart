<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="http://cdn.everything.io/kickstart/3.x/css/kickstart.min.css" />
  </head>
  <body>
    <style>.docs > main { opacity: 0; transition: 2s all; }</style>
    <div class="docs">
      <header class="document">
        <div class="content">
          <br><h1 class="toc-exempt">Mozart Documentation</h1>
          <p>Learn more on <a href="https://github.com/adamjgrant/Mozart">Github</a></p>
          <div id="toc"></div>
          <br>
        </div>
        <div class="code">
          <pre><code></code></pre>
        </div>
      </header>

      <main class="document">
        <div class="content">
          <h1 class="sm">Create a component</h1>
          <p>Before anything else, you'll need to load the Mozart script and declare your first component.</p>
          <p>The variable <code>m$</code> is provided by Mozart to organize your components at a high level
            without cluttering the <code>window</code> namespace.</p>
          <p>Every component should follow the pattern <code>m$.[component name]</code></p>
        </div>
        <div class="code">
          <pre><code class="javascript">m$.user_table = new Mozart;</code>
          </pre>
        </div>
      </main>

      <main class="document">
        <div class="content">
          <p>Mozart will know to look for HTML elements with a <code>data-component</code> attribute that includes
            <code>user_table</code> when referencing <code>m$.user_table</code></p>

          <p>It's good practice to put in some fallback content for the component if you plan on dynamically filling
          from an external data source.</p>

          <p>In this case, we've put "Loading users" as our first rung of the user table because we intend for there
            to be some delay before the user list comes in from the server. Once it is, we'll wipe away the contents
            of the <code>data-render</code> field.</p>

          <p>We'll get to that later when we talk about templates.</p>
        </div>
        <div class="code">
          <pre><code class="html"><div data-component="user_table">
  <h1>User Table</h1>
  <ul data-render>
    <li>Loading users...</li>
  </ul>
</div></code></pre>
        </div>
      </main>

      <main class="document">
        <div class="content">
          <h2 class="xs">Define an API</h2>
          <p>The API of your component will define named entry points into discreet functionality.</p>
          <p>For this example, we'll assume we need to perform a basic database query to populate the table</p>
          <h3 class="xxs">Arguments</h3>
        <div class="code">
          <pre><code class="javascript">m$.user_table.api({
  get_users: function(_$, options) {
    // ...
  }
});</code></pre>
        </div>
      </main>

      <main class="document">
        <div class="content">
          <h3 class="xxs">Scoped selector</h3>
          <p><code>_$</code> will automatically be scoped to your component.</p>
          <p>If you're using jQuery, this means this code woudl be the equivalent of calling
            <code>$("[data-component~='user_table'] h1").html("test");</code></p>
          <p>If you're using plain JavaScript, this would be the equivalent of calling
            <code>document.querySelectorAll("[data-component~='user_table'] h1")</code> so
            be mindful that this will always return an array. You'll need to tack on a <code>[0]</code>
            at the end if you expect and want to work with only one element.</p>
        </div>
        <div class="code">
          <pre><code class="javascript">m$.user_table.api({
  get_users: function(_$, options) {
    _$("h1").html("test");

    // OR

    _$("h1")[0].innerHTML = "test"; // If not using jQuery
  }
});</code></pre>
        </div>
      </main>

      <main class="document">
        <div class="content">
          <h2 class="xs">Define routes</h2>
          <p></p>
        </div>
        <div class="code">
          <pre><code class="javascript">m$.user_table.routes({
  index: {
    method: "GET",
    route: "/users"
  }
});</code></pre>
        </div>
      </main>

      <main class="document">
        <div class="content">
          <p>Check back later this week. Documentation is underway.</p>
          <p>This page was <a href="http://getkickstart.com">built with Kickstart</a>. Table of Contents generated by <a href="https://github.com/adamjgrant/Smooth-ToCer">Smooth ToCer</a></p>
        </div>
        <div class="code"></div>
      </main>

    </div>
    <style>
      .docs > main {
        opacity: 1;
      }

      .docs { width: 100%; }

      .document {
        width: 100%;
        display: flex;
        align-items: stretch;
      }

      .document .content,
      .document .code {
        width: 100%;
        padding: 25px;
      }

      .document .content {}
      .document .code {
        background: #233c46;
        padding: 0;
      }
      pre, code {
        padding: 0;
        border-radius: 0px;
        height: 100%;
        overflow: hidden;
      }

      pre code.hljs {
        padding: 25px;
        background: #233c46;
        font-size: 14px;
      }
    </style>
    <script>
    function escapeHTML(str) {
      var div = document.createElement('div');
      div.appendChild(document.createTextNode(str));
      return div.innerHTML;
    }
    document.querySelectorAll('code.html').forEach(function(htmlcode) {
      htmlcode.innerHTML = escapeHTML(htmlcode.innerHTML);
    });
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/tomorrow-night-eighties.min.css">
    <script src="http://cdn.everything.io/mozart/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://cdn.everything.io/mozart/smoothtocer.js"></script>
    <script>
      smoothtocer(document.querySelector('#toc'), document.querySelector('.docs'));
    </script>
  </body>
</html>
